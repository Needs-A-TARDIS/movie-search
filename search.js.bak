$(document).ready(function () {

//Get the search results from TMDB api 
//This code was made with help from W3C schools JQuery & JavaScript tutorials and StackOverflow user PhearOfRayne at https://stackoverflow.com/questions/14152276/themoviedb-json-api-with-jquery
$('button').click(function() {
	var burl = "https://api.themoviedb.org/3/search/movie?include_adult=false&page=1&query="
	//Get user input
	var q = document.getElementById("query").value;
	console.log("The query was "+q);	
	var apikey = "c86ce297941a783af9f40b9a9985424d"
	var settings = {
	  "async": true,
	  "crossDomain": true,
	  "url": burl + q + "&language=en-US"+ "&api_key=" + apikey,
	  "method": "GET",
	  "headers": {},
	  "data": "{}",
	  "contentType": "application/json",
	  "dataType": "jsonp"
	}

	$.ajax(settings).done(function (response) {
		showResults(response.results);
	    console.log(response);
	});
})   
//TODO: get details of the search results 

//Print the search results 
	function showResults(searchResults){	
		if (searchResults.length ==0 ) {
			toShow = "There aren't any movies with this keyword. Try a different spelling!"
		}
		else {
			toShow = " "
			for (i=0;i<searchResults.length;i++) {
				movieDesc = searchResults.overview;
				movieTitle = searchResults[i].title;
				toShow = toShow+movieTitle+"<br />"+movieDesc+"<br /> <br />";
			}
			document.getElementById("results").innerHTML = toShow;			
		}

	}

//document.getElementById("results").innerHTML = mysearch();
//https://developers.themoviedb.org/3/search/search-keywords
});


